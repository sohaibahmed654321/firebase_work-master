{% extends "base.html" %}
{% block title %}All Users{% endblock %}

{% block content %}
<style>
  body {
    background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
    color: #fff;
    min-height: 100vh;
  }

  h2 {
    letter-spacing: 1px;
  }

  .table-container {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 15px;
    padding: 20px;
    backdrop-filter: blur(8px);
    box-shadow: 0 0 15px rgba(255, 255, 255, 0.1);
  }

  .table thead {
    background-color: rgba(255, 255, 255, 0.15);
  }

  .table-hover tbody tr:hover {
    background-color: rgba(255, 255, 255, 0.1);
    transition: 0.3s ease;
  }

  .btn-success {
    background-color: #28a745;
    border: none;
    transition: all 0.3s ease;
  }

  .btn-success:hover {
    background-color: #34d058;
    transform: scale(1.05);
  }

  .btn-warning:hover, .btn-danger:hover {
    transform: scale(1.05);
    transition: 0.3s ease;
  }

  .shadow-lg {
    box-shadow: 0 0 15px rgba(255, 255, 255, 0.15) !important;
  }
</style>

<div class="container my-5">

  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="text-light">All Users</h2>
    <a href="{% url 'add_user' %}" class="btn btn-success px-4 py-2 fw-bold shadow">
      âž• Add User
    </a>
  </div>

  {% if messages %}
    {% for message in messages %}
      <div class="alert alert-success text-center">{{ message }}</div>
    {% endfor %}
  {% endif %}

  <div class="table-responsive table-container mt-3">
    <table class="table table-dark table-hover text-center align-middle shadow-lg mb-0">
      <thead class="table-secondary text-dark">
        <tr>
          <th>#</th>
          <th>Name</th>
          <th>Email</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for user in users %}
        <tr>
          <td>{{ forloop.counter }}</td>
          <td>{{ user.Name }}</td>
          <td>{{ user.Email }}</td>
          <td>
            <a href="{% url 'edit_user' user.doc_id %}" class="btn btn-warning btn-sm me-2">Edit</a>
            <a href="{% url 'delete_user' user.doc_id %}" class="btn btn-danger btn-sm" onclick="return confirm('Are you sure you want to delete this user?')">Delete</a>
          </td>
        </tr>
        {% empty %}
        <tr>
          <td colspan="4" class="text-light">No users found.</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
