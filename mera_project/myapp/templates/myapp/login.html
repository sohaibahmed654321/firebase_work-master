{% extends "base.html" %}
{% block title %}Login | My App{% endblock %}

{% block content %}
<div class="glass-box text-center">
  <h2 class="mb-3 text-light fw-bold">Welcome Back üîê</h2>

  {% for message in messages %}
    <div class="alert alert-{{ message.tags }}">{{ message }}</div>
  {% endfor %}

  <form method="POST">
    {% csrf_token %}

    <!-- Email -->
    <div class="mb-3 text-start">
      <label class="form-label text-white">Email</label>
      <input type="email" name="email" class="form-control {% if email_error %}input-error{% endif %}"
             placeholder="Enter your email"
             value="{{ email|default:'' }}" required>
    </div>

    <!-- Password with Eye -->
    <div class="mb-3 text-start position-relative">
      <label class="form-label text-white">Password</label>
      <input type="password" id="loginPassword" name="password" class="form-control pe-5 {% if password_error %}input-error{% endif %}"
             placeholder="Enter your password" required>
      <i class="fa-solid fa-eye toggle-password" id="toggleLoginPassword"></i>
    </div>

    <!-- Login Button -->
    <button type="submit" class="btn-black-main w-100">Login</button>
  </form>

  <!-- Register Link -->
  <div class="text-center mt-4">
    <a href="{% url 'reg' %}" class="btn-black-alt">
       <span> Create Account</span>
    </a>
  </div>
</div>

<script>
  const toggleLoginPassword = document.getElementById("toggleLoginPassword");
  const loginPassword = document.getElementById("loginPassword");
  toggleLoginPassword.addEventListener("click", function() {
    const type = loginPassword.getAttribute("type") === "password" ? "text" : "password";
    loginPassword.setAttribute("type", type);
    this.classList.toggle("fa-eye-slash");
  });
</script>

<style>
/* Glass box */
.glass-box { max-width: 450px; margin: 80px auto; background: rgba(255,255,255,0.08); backdrop-filter: blur(15px); border-radius: 25px; padding: 40px 30px; color:white; box-shadow: 0 0 20px rgba(0,0,0,0.4); animation:fadeIn 0.8s ease; }

/* Inputs */
.form-control { background: rgba(0,0,0,0.6)!important; border:1px solid rgba(0,255,255,0.25)!important; color:#f5f5f5!important; border-radius:12px!important; padding:12px 15px!important; font-size:15px!important; font-weight:500!important; transition:all 0.3s ease!important; box-shadow: inset 0 0 8px rgba(0, 255, 255,0.05)!important;}
.form-control:focus { background: rgba(0,0,0,0.85)!important; border-color:#00e1ff!important; box-shadow: 0 0 12px #00e1ff80, inset 0 0 6px rgba(0,225,255,0.15)!important; outline:none!important; }

/* Eye icon */
.toggle-password { position:absolute; right:15px; top:39px; cursor:pointer; color:#00e1ff; font-size:1.3rem; }
.toggle-password:hover { opacity:1; transform:scale(1.2); text-shadow:0 0 10px #00e1ff; }

/* Buttons */
.btn-black-main { background: linear-gradient(145deg,#000,#1a1a1a); color:white; font-weight:700; border:none; border-radius:50px; padding:12px 20px; transition:all 0.3s ease; box-shadow:0 0 15px rgba(255,255,255,0.1); }
.btn-black-main:hover { background: linear-gradient(145deg,#1a1a1a,#000); transform:translateY(-2px); box-shadow:0 0 25px rgba(255,255,255,0.2); }
.btn-black-alt { display:inline-block; background:transparent; border:2px solid #fff; color:#fff; font-weight:600; text-decoration:none; border-radius:50px; padding:10px 25px; transition:all 0.3s ease; }
.btn-black-alt:hover { background: linear-gradient(145deg,#000,#1a1a1a); color:white; transform:scale(1.05); }

/* Error Highlight */


.input-error { border: 2px solid red !important; background-color: #ffebeb !important; color: #000 !important; }

/* Fade-in animation */
@keyframes fadeIn { from{opacity:0; transform:translateY(20px);} to{opacity:1; transform:translateY(0);} }

</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
{% endblock %}
